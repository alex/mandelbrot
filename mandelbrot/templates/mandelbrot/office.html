{% extends "mandelbrot/base.html" %}

{% block "header" %}
    <script src='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.3/mapbox.css' rel='stylesheet' />
     <style>
#map { height: 15em; }
     </style>
{% endblock %}

{% block "main" %}
     <div id="map"></div>
    <div id="main" class="usa-grid">
      <div class="usa-width-full">
        <h1>{{office.name}}</h1>
      </div>
    </div>
     <script type="text/javascript">
        L.mapbox.accessToken = 'pk.eyJ1IjoibWFwYm94IiwiYSI6IlhHVkZmaW8ifQ.hAMX5hSW-QnTeRCMAy9A8Q';
        var map = L.mapbox.map('map', 'mapbox.streets').setView([{{office.latitude}}, {{office.longitude}}], 15);

        L.mapbox.featureLayer({
            type: 'Feature',
            geometry: {
                type: 'Point',
                coordinates: [
                    {{office.longitude}},
                    {{office.latitude}},
                ]
            },
            properties: {
                title: "{{office.name}}",
                'marker-size': 'large',
                'marker-color': '#285E77',
                'marker-symbol': 'star-stroked'
            }
        }).addTo(map);
     </script>
{% endblock %}

